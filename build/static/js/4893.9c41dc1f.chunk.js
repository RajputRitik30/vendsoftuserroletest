"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4893],{94893:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var o=s(9950),l=s(28429),a=s(45532),r=(s(96011),s(37017)),i=(s(94139),s(1072)),n=s(44885),c=s(44414);const d=()=>{(0,l.Zp)();const{user:e,authTokens:t}=(0,o.useContext)(a.A),[s,d]=(0,o.useState)([]),[p,b]=(0,o.useState)([]),[m,u]=(0,o.useState)([]),[h,y]=(0,o.useState)([]),[_,x]=(0,o.useState)(!1);let g=(0,i.A)(),[k,w]=(0,o.useState)([]),[f,S]=(0,o.useState)([]);const[N,j]=(0,o.useState)(!1),[C,P]=(0,o.useState)(!1),[D,W]=(0,o.useState)(!1),[R,v]=(0,o.useState)(!1),{selectedColor:E}=(0,n.useColor)();(0,o.useEffect)((()=>{T()}),[]);let T=async()=>{let e=await g.get("ticket/ticket_list/");if(1===e.data.success){let t=[],s=[],o=[],l=[];for(let a=0;a<e.data.result.length;a++){let r=e.data.result[a],i={id:r.id,ticket_no:r.ticsrno,date:O(r.created_at),time:H(r.created_at),title:r.title,machine_id:r.machine_map,priority:r.priority,status:F(r.status),problem_type:r.problem_type,discription:r.description,note:r.notes,email:r.email,name:r.name};"software"==i.problem_type&&t.push(i),"hardware"==i.problem_type&&s.push(i),"other"==i.problem_type&&o.push(i),l.push(i)}b(t),u(s),y(o),d(l)}else 0===e.data.success&&console.log("hhhhhhhhh")};function F(e){return"RESOLVED"==e?(0,c.jsx)("button",{type:"button",disabled:!0,style:{width:"75px",color:"white",backgroundColor:"#00c702"},children:"Resolved"}):"IN PROGRESS"==e?(0,c.jsx)("button",{type:"button",disabled:!0,style:{width:"75px",color:"black",backgroundColor:"yellow"},children:"In Progress"}):"PENDING"==e?(0,c.jsx)("button",{type:"button",disabled:!0,style:{width:"75px",color:"black",backgroundColor:"red"},children:"Pending"}):"CLOSED"==e?(0,c.jsx)("button",{type:"button",disabled:!0,style:{width:"75px",color:"white",backgroundColor:"green"},children:"Closed"}):(0,c.jsx)("button",{type:"button",disabled:!0,style:{width:"75px",color:"white",backgroundColor:"blue"},children:"Created"})}function O(e){if(null!=e){var t=new Date(e),s=""+(t.getMonth()+1),o=""+t.getDate(),l=t.getFullYear();return s.length<2&&(s="0"+s),o.length<2&&(o="0"+o),[l,s,o].join("-")}}const H=e=>{if(null==e)return"          ";const t=new Date(e),s=(String(t.getDate()).padStart(2,"0"),t.getMonth(),t.getFullYear(),String(t.getHours()).padStart(2,"0")),o=String(t.getMinutes()).padStart(2,"0");return"".concat(s,":").concat(o)};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("h3",{children:"Ticket History"}),(0,c.jsx)(r.sK,{children:(0,c.jsxs)("div",{className:"d-grid gap-4 d-md-flex justify-content-md-start mt-3 mb-2",children:[(0,c.jsx)(r.Q_,{color:"success",type:"button",className:"btn btn-default btn-sm",onClick:()=>d(p),style:{backgroundColor:E,color:"white",borderRadius:"5px",boxShadow:"3px 3px 3px 1px rgba(0,0,0,0.25)"},children:"Software Problems"}),(0,c.jsx)(r.Q_,{color:"success",type:"button",onClick:()=>d(m),className:"btn btn-default btn-sm ",style:{backgroundColor:E,color:"white",borderRadius:"5px",boxShadow:"3px 3px 3px 1px rgba(0,0,0,0.25)"},children:"Hardware Problems"}),(0,c.jsx)(r.Q_,{onClick:()=>d(h),style:{backgroundColor:E,color:"white",borderRadius:"5px",boxShadow:"3px 3px 3px 1px rgba(0,0,0,0.25)"},children:"Other Problems"})]})}),(0,c.jsx)(r.sK,{children:(0,c.jsx)(r.UF,{xs:12,children:(0,c.jsx)(r.Pd,{activePage:1,clickableRows:!0,columns:[{key:"sr_no",label:"Sr. No.",_props:{color:"secondary",className:"fw-semibold"}},{label:"Ticket No",key:"ticket_no",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"115px"}},{label:"Date",key:"date",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"80px"}},{label:"Time",key:"time",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"20px"}},{label:"Title",key:"title",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"100px"}},{label:"Email",key:"email",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"100px"}},{label:"Name",key:"name",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"100px"}},{label:"Machine ID",key:"machine_id",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"100px"}},{key:"status",label:"Status",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"100px"}},{key:"problem_type",label:"Problem Type",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"50px"}},{key:"discription",label:"Description",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"130px"}},{label:"Transfer",key:"transfer",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"100px"}}],items:s,itemsPerPageSelect:!0,itemsPerPage:10,pagination:!0,scopedColumns:{sr_no:(e,t)=>(0,c.jsx)("td",{children:t+1}),transfer:e=>(0,c.jsx)("td",{children:(0,c.jsx)(r.Q_,{onClick:()=>{(async(e,t)=>{const s=new FormData;s.append("ticket_id",e),s.append("assigned_user_id",t),await g.post("ticket/assign_ticket/",s)})(e.id,t.user.id)},children:"Send"})})},itemsPerPageOptions:[10,20,50,100],tableProps:{color:"success-color-secondary",hover:!0,border:"1.5px solid #074",responsive:!0},tableHeadProps:{color:"light",align:"middle",className:"align-middle"},tableBodyProps:{align:"middle",className:"align-middle"},itemsPerPageLabel:"Rows per page:"})})})]})})}},94139:(e,t,s)=>{e.exports=s.p+"static/media/Feedback.bfef9234218d86b7b0ee.gif"}}]);