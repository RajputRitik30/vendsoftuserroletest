"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4781],{44781:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(9950),l=s(28429),o=s(45532),r=(s(96011),s(37017)),i=(s(94139),s(1072)),c=s(44885),n=s(44414);const d=()=>{(0,l.Zp)();const{user:e,authTokens:t}=(0,a.useContext)(o.A),[s,d]=(0,a.useState)([]),[p,m]=(0,a.useState)([]),[b,u]=(0,a.useState)([]),[h,y]=(0,a.useState)([]),[_,x]=(0,a.useState)(!1);let f=(0,i.A)(),[g,k]=(0,a.useState)([]),[w,S]=(0,a.useState)([]);const[N,P]=(0,a.useState)(!1),[j,C]=(0,a.useState)(!1),[W,v]=(0,a.useState)(!1),[D,T]=(0,a.useState)(!1),{selectedColor:F}=(0,c.useColor)();(0,a.useEffect)((()=>{R()}),[]);let R=async()=>{let e=await f.get("ticket/ticket_list/");if(1===e.data.success){let t=[],s=[],a=[],l=[];for(let o=0;o<e.data.result.length;o++){let r=e.data.result[o],i={ticket_no:r.ticsrno,date:H(r.created_at),time:M(r.created_at),title:r.title,machine_id:r.machine_map,priority:r.priority,status:r.status,problem_type:r.problem_type,discription:r.description,note:r.notes,email:r.email,name:r.name};"software"==i.problem_type&&t.push(i),"hardware"==i.problem_type&&s.push(i),"other"==i.problem_type&&a.push(i),l.push(i)}m(t),u(s),y(a),d(l)}else 0===e.data.success&&console.log("hhhhhhhhh")};function H(e){if(null!=e){var t=new Date(e),s=""+(t.getMonth()+1),a=""+t.getDate(),l=t.getFullYear();return s.length<2&&(s="0"+s),a.length<2&&(a="0"+a),[l,s,a].join("-")}}const M=e=>{if(null==e)return"          ";const t=new Date(e),s=(String(t.getDate()).padStart(2,"0"),t.getMonth(),t.getFullYear(),String(t.getHours()).padStart(2,"0")),a=String(t.getMinutes()).padStart(2,"0");return"".concat(s,":").concat(a)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("h3",{children:"Ticket History"}),(0,n.jsx)(r.sK,{children:(0,n.jsxs)("div",{className:"d-grid gap-4 d-md-flex justify-content-md-start mt-3 mb-2",children:[(0,n.jsx)(r.Q_,{color:"success",type:"button",className:"btn btn-default btn-sm",onClick:()=>d(p),style:{backgroundColor:F,color:"white",borderRadius:"5px",boxShadow:"3px 3px 3px 1px rgba(0,0,0,0.25)"},children:"Software Problems"}),(0,n.jsx)(r.Q_,{color:"success",type:"button",onClick:()=>d(b),className:"btn btn-default btn-sm ",style:{backgroundColor:F,color:"white",borderRadius:"5px",boxShadow:"3px 3px 3px 1px rgba(0,0,0,0.25)"},children:"Hardware Problems"}),(0,n.jsx)(r.Q_,{onClick:()=>d(h),style:{backgroundColor:F,color:"white",borderRadius:"5px",boxShadow:"3px 3px 3px 1px rgba(0,0,0,0.25)"},children:"Other Problems"})]})}),(0,n.jsx)(r.sK,{children:(0,n.jsx)(r.UF,{xs:12,children:(0,n.jsx)(r.Pd,{activePage:1,clickableRows:!0,columns:[{key:"sr_no",label:"Sr. No.",_props:{color:"secondary",className:"fw-semibold"}},{label:"Ticket No",key:"ticket_no",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"115px"}},{label:"Date",key:"date",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"80px"}},{label:"Time",key:"time",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"20px"}},{label:"Title",key:"title",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"100px"}},{label:"Email",key:"email",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"100px"}},{label:"Name",key:"name",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"100px"}},{label:"Machine ID",key:"machine_id",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"100px"}},{label:"Priority",key:"priority",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"50px"}},{key:"status",label:"Status",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"100px"}},{key:"problem_type",label:"Problem Type",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"50px"}},{key:"discription",label:"Description",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"130px"}},{label:"Transfer",key:"transfer",_props:{color:"secondary",className:"fw-semibold"},_style:{minWidth:"100px"}}],items:s,itemsPerPageSelect:!0,itemsPerPage:10,pagination:!0,scopedColumns:{sr_no:(e,t)=>(0,n.jsx)("td",{children:t+1}),transfer:()=>(0,n.jsx)("td",{children:(0,n.jsx)("button",{children:"software"})})},itemsPerPageOptions:[10,20,50,100],tableProps:{color:"success-color-secondary",hover:!0,border:"1.5px solid #074",responsive:!0},tableHeadProps:{color:"light",align:"middle",className:"align-middle"},tableBodyProps:{align:"middle",className:"align-middle"},itemsPerPageLabel:"Rows per page:"})})})]})})}},94139:(e,t,s)=>{e.exports=s.p+"static/media/Feedback.bfef9234218d86b7b0ee.gif"}}]);